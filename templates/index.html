<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RSA Scaler</title>
    <style>

        .title {
            font-size: 5em;
            transform: translate(-50%,-50%);
            background-image: linear-gradient(gold, gold);
            background-size: 100% 10px;
            background-repeat: no-repeat;
            background-position: 100% 0%;
             transition: background-size .7s, background-position .5s ease-in-out;
          }
          
          .title:hover {
            background-size: 100% 100%;
            background-position: 0% 100%;
            transition: background-position .7s, background-size .5s ease-in-out;
          }

        .button {
            background-color: #04AA6D; /* Green */
            border: none;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 20px;
            margin: 4px 2px;
            cursor: pointer;
            -webkit-transition-duration: 0.4s; /* Safari */
            transition-duration: 0.4s;
            width: 150px;

          }
          
     
          
          .button:hover {
              box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24),0 17px 50px 0 rgba(0,0,0,0.19);
           }
            
           .clear{
            background-color: #aa1504;
          }


          .intro{
            background-color: #0428aa;
          }


          .buzz{
            background-color: #e18102;
          }
          .buzz:hover {
            box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24),0 17px 50px 0 rgba(0,0,0,0.19);
          }


    </style>

</head>
<body>
    <span> RSA Scaler </span>
    <pre>version 1.0.1</pre>
    <hr>
    
    <a href='/download' class='button'>Download</a> 
    <a href='/clear' target="_blank" class='button clear'>Clear</a> <hr/>

    <a href='#' onclick="intro()"  class='button intro'>Intro</a> 
    <a href='#' onclick="buzz()"  class='button buzz'>Buzzer</a> <hr/>

   <h1>Last Barcode: <span id="barcode">00000000000</span></h1>
   <h1>Last Weight: <span id="weight">0kg</span></h1>
    
     <br/>

<script>

async function buzz(){
  await fetch('/buzzer')
}

async function intro(){
  await fetch('/intro')
}

async function get_data(){
  let url = '/getdata';

      fetch(url)
      .then(res =>  res.json())
      .then(result =>{
          let barcode = document.getElementById('barcode');
          let weight = document.getElementById('weight');


          barcode.innerHTML = result.barcode;
          weight.innerHTML = result.weight;
      })
      .catch(err => console.log(err));
  }


  setInterval(get_data, 500);

</script>

</body>
</html>